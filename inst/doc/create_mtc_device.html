<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="System Insights" />

<meta name="date" content="2019-01-07" />

<title>create_mtc_device</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">create_mtc_device</h1>
<h4 class="author"><em>System Insights</em></h4>
<h4 class="date"><em>2019-01-07</em></h4>



<div id="creating-mtcdevice-class" class="section level1">
<h1>Creating MTCDevice Class</h1>
<p>You can create and MTC Device Class by specifying a Delimited MTConnect Data (DMTCD) file and a devices.XML</p>
<div id="dmtcd-file-and-devices-xml-file---create_mtc_device_from_dmtcd" class="section level2">
<h2>DMTCD file and devices XML file - <code>create_mtc_device_from_dmtcd</code></h2>
<p>The usage is straightforward. The user can provide ther path to the Delimited MTConnect Data(DMTCD) file and the devices XML and the package reads the files and packages the data into an easily usable MTCDevice S4 Data Structure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(mtconnectR)</code></pre></div>
<pre><code>## Loading required package: mtconnectR</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file_path_dmtcd =<span class="st"> &quot;testdata/dataExtraction/test_dmtcd.log&quot;</span>
file_path_xml =<span class="st"> &quot;testdata/dataExtraction/test_devices.xml&quot;</span>
device_name =<span class="st"> &quot;test_device&quot;</span>
mtc_device =<span class="st"> </span><span class="kw">create_mtc_device_from_dmtcd</span>(
  <span class="kw">system.file</span>(file_path_dmtcd, <span class="dt">package =</span> <span class="st">&quot;mtconnectR&quot;</span>),
  <span class="kw">system.file</span>(file_path_xml, <span class="dt">package =</span> <span class="st">&quot;mtconnectR&quot;</span>),
  device_name)</code></pre></div>
<pre><code>## Reading Delimted MTC data...</code></pre>
<pre><code>## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |=                                                                |   2%
  |                                                                       
  |===                                                              |   4%
  |                                                                       
  |====                                                             |   6%
  |                                                                       
  |=====                                                            |   8%
  |                                                                       
  |======                                                           |  10%
  |                                                                       
  |========                                                         |  12%
  |                                                                       
  |=========                                                        |  14%
  |                                                                       
  |==========                                                       |  16%
  |                                                                       
  |============                                                     |  18%
  |                                                                       
  |=============                                                    |  20%
  |                                                                       
  |==============                                                   |  22%
  |                                                                       
  |================                                                 |  24%
  |                                                                       
  |=================                                                |  26%
  |                                                                       
  |==================                                               |  28%
  |                                                                       
  |====================                                             |  30%
  |                                                                       
  |=====================                                            |  32%
  |                                                                       
  |======================                                           |  34%
  |                                                                       
  |=======================                                          |  36%
  |                                                                       
  |=========================                                        |  38%
  |                                                                       
  |==========================                                       |  40%
  |                                                                       
  |===========================                                      |  42%
  |                                                                       
  |=============================                                    |  44%
  |                                                                       
  |==============================                                   |  46%
  |                                                                       
  |===============================                                  |  48%
  |                                                                       
  |================================                                 |  50%
  |                                                                       
  |==================================                               |  52%
  |                                                                       
  |===================================                              |  54%
  |                                                                       
  |====================================                             |  56%
  |                                                                       
  |======================================                           |  58%
  |                                                                       
  |=======================================                          |  60%
  |                                                                       
  |========================================                         |  62%
  |                                                                       
  |==========================================                       |  64%
  |                                                                       
  |===========================================                      |  66%
  |                                                                       
  |============================================                     |  68%
  |                                                                       
  |==============================================                   |  70%
  |                                                                       
  |===============================================                  |  72%
  |                                                                       
  |================================================                 |  74%
  |                                                                       
  |=================================================                |  76%
  |                                                                       
  |===================================================              |  78%
  |                                                                       
  |====================================================             |  80%
  |                                                                       
  |=====================================================            |  82%
  |                                                                       
  |=======================================================          |  84%
  |                                                                       
  |========================================================         |  86%
  |                                                                       
  |=========================================================        |  88%
  |                                                                       
  |==========================================================       |  90%
  |                                                                       
  |============================================================     |  92%
  |                                                                       
  |=============================================================    |  94%
  |                                                                       
  |==============================================================   |  96%
  |                                                                       
  |================================================================ |  98%
  |                                                                       
  |=================================================================| 100%</code></pre>
<pre><code>## 20.48% data contextualized successfuly!</code></pre>
</div>
<div id="using-the-basic-convenience-functions" class="section level2">
<h2>Using the basic convenience functions</h2>
<p>A few convenience functions are provided to help the user with the MTC Classes. They are:</p>
<div id="getdataitem" class="section level3">
<h3>getDataItem</h3>
<p>This function is used to get a single MTC data item from the MTC device class. If no parameters are provided, the first data item is returned. The user can optionally enter either a character string - in which case the data items whose paths match the character string are returned or one or more indexes. Please note that if the pattern matches more than one data item, a list of MTC Data Items is returned.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the first data item in the list</span>
mtc_data_item =<span class="st"> </span><span class="kw">getDataItem</span>(mtc_device)
<span class="kw">print</span>(mtc_data_item)</code></pre></div>
<pre><code>## An object of class &quot;MTCDataItem&quot;
## Slot &quot;data&quot;:
##                 timestamp value
## 1 2014-07-15 07:04:25.608   100
## 
## Slot &quot;metadata&quot;:
## $category
## [1] &quot;SAMPLE&quot;
## 
## $xpath
## [1] &quot;test_device&lt;Device&gt;:Frapidovr&lt;PATH_FEEDRATE-OVERRIDE&gt;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get all the data items with &quot;Xabs&quot; in the name</span>
mtc_data_item =<span class="st"> </span><span class="kw">getDataItem</span>(mtc_device, <span class="st">&quot;Xabs&quot;</span>)
<span class="kw">print</span>(mtc_data_item)</code></pre></div>
<pre><code>## An object of class &quot;MTCDataItem&quot;
## Slot &quot;data&quot;:
##                  timestamp     value
## 1  2014-07-15 07:04:25.608   8.26262
## 2  2014-07-15 07:04:25.788   4.61391
## 3  2014-07-15 07:04:29.983   8.14832
## 4  2014-07-15 07:04:34.210  56.67629
## 5  2014-07-15 07:04:38.526  41.27500
## 6  2014-07-15 07:04:42.862  38.94074
## 7  2014-07-15 07:04:47.049 -19.75612
## 8  2014-07-15 07:04:51.286 -20.20316
## 9  2014-07-15 07:04:55.492 -21.00961
## 10 2014-07-15 07:04:59.729  -1.99644
## 11 2014-07-15 07:05:03.914   1.98247
## 12 2014-07-15 07:05:08.141  29.57195
## 13 2014-07-15 07:05:12.328 -23.00986
## 14 2014-07-15 07:05:16.513 276.65426
## 15 2014-07-15 07:05:20.710  56.94934
## 16 2014-07-15 07:05:24.875  32.88030
## 17 2014-07-15 07:05:29.092 -51.92649
## 
## Slot &quot;metadata&quot;:
## $category
## [1] &quot;SAMPLE&quot;
## 
## $xpath
## [1] &quot;test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get the data item with the 5th index</span>
mtc_data_item =<span class="st"> </span><span class="kw">getDataItem</span>(mtc_device, <span class="dv">5</span>)
<span class="kw">print</span>(mtc_data_item)</code></pre></div>
<pre><code>## An object of class &quot;MTCDataItem&quot;
## Slot &quot;data&quot;:
##                  timestamp     value
## 1  2014-07-15 07:04:25.608 238.02594
## 2  2014-07-15 07:04:25.788 240.46434
## 3  2014-07-15 07:04:29.983 234.98429
## 4  2014-07-15 07:04:34.210 280.67762
## 5  2014-07-15 07:04:38.526 267.71600
## 6  2014-07-15 07:04:42.862 269.86738
## 7  2014-07-15 07:04:47.049 278.72436
## 8  2014-07-15 07:04:51.286 211.29117
## 9  2014-07-15 07:04:55.492 208.65973
## 10 2014-07-15 07:04:59.729 213.84387
## 11 2014-07-15 07:05:03.914 272.26514
## 12 2014-07-15 07:05:08.141 244.55374
## 13 2014-07-15 07:05:12.328 212.84184
## 14 2014-07-15 07:05:16.513 465.69630
## 15 2014-07-15 07:05:20.710 243.04752
## 16 2014-07-15 07:05:24.875 272.85950
## 17 2014-07-15 07:05:29.092 263.14527
## 
## Slot &quot;metadata&quot;:
## $category
## [1] &quot;SAMPLE&quot;
## 
## $xpath
## [1] &quot;test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get all data items with path matching the string 'POSITION'</span>
mtc_data_item_list =<span class="st"> </span><span class="kw">getDataItem</span>(mtc_device, <span class="st">&quot;POSITION&quot;</span>)
<span class="kw">print</span>(mtc_data_item)</code></pre></div>
<pre><code>## An object of class &quot;MTCDataItem&quot;
## Slot &quot;data&quot;:
##                  timestamp     value
## 1  2014-07-15 07:04:25.608 238.02594
## 2  2014-07-15 07:04:25.788 240.46434
## 3  2014-07-15 07:04:29.983 234.98429
## 4  2014-07-15 07:04:34.210 280.67762
## 5  2014-07-15 07:04:38.526 267.71600
## 6  2014-07-15 07:04:42.862 269.86738
## 7  2014-07-15 07:04:47.049 278.72436
## 8  2014-07-15 07:04:51.286 211.29117
## 9  2014-07-15 07:04:55.492 208.65973
## 10 2014-07-15 07:04:59.729 213.84387
## 11 2014-07-15 07:05:03.914 272.26514
## 12 2014-07-15 07:05:08.141 244.55374
## 13 2014-07-15 07:05:12.328 212.84184
## 14 2014-07-15 07:05:16.513 465.69630
## 15 2014-07-15 07:05:20.710 243.04752
## 16 2014-07-15 07:05:24.875 272.85950
## 17 2014-07-15 07:05:29.092 263.14527
## 
## Slot &quot;metadata&quot;:
## $category
## [1] &quot;SAMPLE&quot;
## 
## $xpath
## [1] &quot;test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;&quot;</code></pre>
</div>
<div id="summary" class="section level3">
<h3>summary</h3>
<p>Displays a quick summary of the MTC Object with the following</p>
<ul>
<li>Path to each data item</li>
<li>Number of Records</li>
<li>Start and End times</li>
<li>Type of data item (device, sample)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">summary</span>(mtc_device))</code></pre></div>
<pre><code>##    Length     Class      Mode 
##         1 MTCDevice        S4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">summary</span>(mtc_data_item))</code></pre></div>
<pre><code>##      Length       Class        Mode 
##           1 MTCDataItem          S4</code></pre>
</div>
<div id="getdata" class="section level3">
<h3>getData</h3>
<p>If the user wants to get all the data from an MTC Object into a data.frame for further analysis, they can use the getData method. It converts all the time series data into a data.frame object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get Data from a MTC Device Class</span>
mtc_device_data =<span class="st"> </span><span class="kw">getData</span>(mtc_device)
<span class="kw">print</span>(mtc_device_data)</code></pre></div>
<pre><code>##                                           data_item_name
## 1  test_device&lt;Device&gt;:Frapidovr&lt;PATH_FEEDRATE-OVERRIDE&gt;
## 2       test_device&lt;Device&gt;:Sovr&lt;SPINDLE_SPEED-OVERRIDE&gt;
## 3              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 4              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 5              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 6              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 7              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 8              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 9              test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 10             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 11             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 12             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 13             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 14             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 15             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 16             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 17             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 18             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 19             test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 20                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 21                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 22                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 23                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 24                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 25                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 26                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 27                       test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 28             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 29             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 30             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 31             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 32             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 33             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 34             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 35             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 36             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 37             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 38             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 39             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 40             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 41             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 42             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 43             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 44             test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 45                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
## 46                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
## 47                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
## 48                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
## 49                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
## 50                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
## 51                       test_device&lt;Device&gt;:Yload&lt;LOAD&gt;
##                  timestamp     value
## 1  2014-07-15 07:04:25.608 100.00000
## 2  2014-07-15 07:04:25.608 100.00000
## 3  2014-07-15 07:04:25.608   8.26262
## 4  2014-07-15 07:04:25.788   4.61391
## 5  2014-07-15 07:04:29.983   8.14832
## 6  2014-07-15 07:04:34.210  56.67629
## 7  2014-07-15 07:04:38.526  41.27500
## 8  2014-07-15 07:04:42.862  38.94074
## 9  2014-07-15 07:04:47.049 -19.75612
## 10 2014-07-15 07:04:51.286 -20.20316
## 11 2014-07-15 07:04:55.492 -21.00961
## 12 2014-07-15 07:04:59.729  -1.99644
## 13 2014-07-15 07:05:03.914   1.98247
## 14 2014-07-15 07:05:08.141  29.57195
## 15 2014-07-15 07:05:12.328 -23.00986
## 16 2014-07-15 07:05:16.513 276.65426
## 17 2014-07-15 07:05:20.710  56.94934
## 18 2014-07-15 07:05:24.875  32.88030
## 19 2014-07-15 07:05:29.092 -51.92649
## 20 2014-07-15 07:04:25.608  -8.00000
## 21 2014-07-15 07:04:29.983  -2.00000
## 22 2014-07-15 07:04:47.049  10.00000
## 23 2014-07-15 07:04:51.286  -1.00000
## 24 2014-07-15 07:05:03.914  -9.00000
## 25 2014-07-15 07:05:08.141 -17.00000
## 26 2014-07-15 07:05:12.328   6.00000
## 27 2014-07-15 07:05:20.710  -1.00000
## 28 2014-07-15 07:04:25.608 238.02594
## 29 2014-07-15 07:04:25.788 240.46434
## 30 2014-07-15 07:04:29.983 234.98429
## 31 2014-07-15 07:04:34.210 280.67762
## 32 2014-07-15 07:04:38.526 267.71600
## 33 2014-07-15 07:04:42.862 269.86738
## 34 2014-07-15 07:04:47.049 278.72436
## 35 2014-07-15 07:04:51.286 211.29117
## 36 2014-07-15 07:04:55.492 208.65973
## 37 2014-07-15 07:04:59.729 213.84387
## 38 2014-07-15 07:05:03.914 272.26514
## 39 2014-07-15 07:05:08.141 244.55374
## 40 2014-07-15 07:05:12.328 212.84184
## 41 2014-07-15 07:05:16.513 465.69630
## 42 2014-07-15 07:05:20.710 243.04752
## 43 2014-07-15 07:05:24.875 272.85950
## 44 2014-07-15 07:05:29.092 263.14527
## 45 2014-07-15 07:04:25.608 -29.00000
## 46 2014-07-15 07:04:38.526 -24.00000
## 47 2014-07-15 07:04:47.049 -34.00000
## 48 2014-07-15 07:04:51.286 -25.00000
## 49 2014-07-15 07:05:12.328 -20.00000
## 50 2014-07-15 07:05:16.513 -29.00000
## 51 2014-07-15 07:05:29.092 -24.00000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get Data from a MTC Data item Class</span>
mtc_data_item_data =<span class="st"> </span><span class="kw">getData</span>(mtc_data_item)
<span class="kw">print</span>(mtc_data_item_data)</code></pre></div>
<pre><code>##                  timestamp     value
## 1  2014-07-15 07:04:25.608 238.02594
## 2  2014-07-15 07:04:25.788 240.46434
## 3  2014-07-15 07:04:29.983 234.98429
## 4  2014-07-15 07:04:34.210 280.67762
## 5  2014-07-15 07:04:38.526 267.71600
## 6  2014-07-15 07:04:42.862 269.86738
## 7  2014-07-15 07:04:47.049 278.72436
## 8  2014-07-15 07:04:51.286 211.29117
## 9  2014-07-15 07:04:55.492 208.65973
## 10 2014-07-15 07:04:59.729 213.84387
## 11 2014-07-15 07:05:03.914 272.26514
## 12 2014-07-15 07:05:08.141 244.55374
## 13 2014-07-15 07:05:12.328 212.84184
## 14 2014-07-15 07:05:16.513 465.69630
## 15 2014-07-15 07:05:20.710 243.04752
## 16 2014-07-15 07:05:24.875 272.85950
## 17 2014-07-15 07:05:29.092 263.14527</code></pre>
</div>
<div id="merge" class="section level3">
<h3>merge</h3>
<p>One common use case for a user doing exploratory analysis is to see how the different data items interact with each other. The long format using <code>getData</code> method is not ideal for this. For this case, we can use the merge function to put all the data into a single time series by merging the data items.</p>
<p>Also, the user can conveniently specify the pattern over which to merge or the indices to merge like case of the <code>getData</code> method. For Example `merge(x, “abc”)’ will merge all the objects that have the the string “abc” in their name to one data frame. If no pattern is provided then all the data items are merged into one.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># merge all the objects that have the string 'POSIT' into one data frame</span>
<span class="kw">print</span>(<span class="kw">merge</span>(mtc_device, <span class="st">&quot;POSIT&quot;</span>))</code></pre></div>
<pre><code>##                  timestamp test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 1  2014-07-15 07:04:25.608                                   8.26262
## 2  2014-07-15 07:04:25.788                                   4.61391
## 3  2014-07-15 07:04:29.983                                   8.14832
## 4  2014-07-15 07:04:34.210                                  56.67629
## 5  2014-07-15 07:04:38.526                                  41.27500
## 6  2014-07-15 07:04:42.862                                  38.94074
## 7  2014-07-15 07:04:47.049                                 -19.75612
## 8  2014-07-15 07:04:51.286                                 -20.20316
## 9  2014-07-15 07:04:55.492                                 -21.00961
## 10 2014-07-15 07:04:59.729                                  -1.99644
## 11 2014-07-15 07:05:03.914                                   1.98247
## 12 2014-07-15 07:05:08.141                                  29.57195
## 13 2014-07-15 07:05:12.328                                 -23.00986
## 14 2014-07-15 07:05:16.513                                 276.65426
## 15 2014-07-15 07:05:20.710                                  56.94934
## 16 2014-07-15 07:05:24.875                                  32.88030
## 17 2014-07-15 07:05:29.092                                 -51.92649
##    test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 1                                  238.02594
## 2                                  240.46434
## 3                                  234.98429
## 4                                  280.67762
## 5                                  267.71600
## 6                                  269.86738
## 7                                  278.72436
## 8                                  211.29117
## 9                                  208.65973
## 10                                 213.84387
## 11                                 272.26514
## 12                                 244.55374
## 13                                 212.84184
## 14                                 465.69630
## 15                                 243.04752
## 16                                 272.85950
## 17                                 263.14527</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># merge data items with indices 3:5 into a data.frame</span>
<span class="kw">print</span>(<span class="kw">merge</span>(mtc_device, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>))</code></pre></div>
<pre><code>##                  timestamp test_device&lt;Device&gt;:Xabs&lt;POSITION-ACTUAL&gt;
## 1  2014-07-15 07:04:25.608                                   8.26262
## 2  2014-07-15 07:04:25.788                                   4.61391
## 3  2014-07-15 07:04:29.983                                   8.14832
## 4  2014-07-15 07:04:34.210                                  56.67629
## 5  2014-07-15 07:04:38.526                                  41.27500
## 6  2014-07-15 07:04:42.862                                  38.94074
## 7  2014-07-15 07:04:47.049                                 -19.75612
## 8  2014-07-15 07:04:51.286                                 -20.20316
## 9  2014-07-15 07:04:55.492                                 -21.00961
## 10 2014-07-15 07:04:59.729                                  -1.99644
## 11 2014-07-15 07:05:03.914                                   1.98247
## 12 2014-07-15 07:05:08.141                                  29.57195
## 13 2014-07-15 07:05:12.328                                 -23.00986
## 14 2014-07-15 07:05:16.513                                 276.65426
## 15 2014-07-15 07:05:20.710                                  56.94934
## 16 2014-07-15 07:05:24.875                                  32.88030
## 17 2014-07-15 07:05:29.092                                 -51.92649
##    test_device&lt;Device&gt;:Xload&lt;LOAD&gt;
## 1                               -8
## 2                               -8
## 3                               -2
## 4                               -2
## 5                               -2
## 6                               -2
## 7                               10
## 8                               -1
## 9                               -1
## 10                              -1
## 11                              -9
## 12                             -17
## 13                               6
## 14                               6
## 15                              -1
## 16                              -1
## 17                              -1
##    test_device&lt;Device&gt;:Yabs&lt;POSITION-ACTUAL&gt;
## 1                                  238.02594
## 2                                  240.46434
## 3                                  234.98429
## 4                                  280.67762
## 5                                  267.71600
## 6                                  269.86738
## 7                                  278.72436
## 8                                  211.29117
## 9                                  208.65973
## 10                                 213.84387
## 11                                 272.26514
## 12                                 244.55374
## 13                                 212.84184
## 14                                 465.69630
## 15                                 243.04752
## 16                                 272.85950
## 17                                 263.14527</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># merge all the data items</span>
merged_mtc_device =<span class="st"> </span>(<span class="kw">merge</span>(mtc_device))

<span class="co"># renaming column names to make it more readable</span>
<span class="kw">names</span>(merged_mtc_device) =<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_replace</span>(<span class="kw">names</span>(merged_mtc_device), <span class="st">&quot;test_device&lt;Device&gt;:&quot;</span>, <span class="st">&quot;&quot;</span>)
<span class="kw">print</span>(merged_mtc_device)</code></pre></div>
<pre><code>##                  timestamp Frapidovr&lt;PATH_FEEDRATE-OVERRIDE&gt;
## 1  2014-07-15 07:04:25.608                               100
## 2  2014-07-15 07:04:25.788                               100
## 3  2014-07-15 07:04:29.983                               100
## 4  2014-07-15 07:04:34.210                               100
## 5  2014-07-15 07:04:38.526                               100
## 6  2014-07-15 07:04:42.862                               100
## 7  2014-07-15 07:04:47.049                               100
## 8  2014-07-15 07:04:51.286                               100
## 9  2014-07-15 07:04:55.492                               100
## 10 2014-07-15 07:04:59.729                               100
## 11 2014-07-15 07:05:03.914                               100
## 12 2014-07-15 07:05:08.141                               100
## 13 2014-07-15 07:05:12.328                               100
## 14 2014-07-15 07:05:16.513                               100
## 15 2014-07-15 07:05:20.710                               100
## 16 2014-07-15 07:05:24.875                               100
## 17 2014-07-15 07:05:29.092                               100
##    Sovr&lt;SPINDLE_SPEED-OVERRIDE&gt; Xabs&lt;POSITION-ACTUAL&gt; Xload&lt;LOAD&gt;
## 1                           100               8.26262          -8
## 2                           100               4.61391          -8
## 3                           100               8.14832          -2
## 4                           100              56.67629          -2
## 5                           100              41.27500          -2
## 6                           100              38.94074          -2
## 7                           100             -19.75612          10
## 8                           100             -20.20316          -1
## 9                           100             -21.00961          -1
## 10                          100              -1.99644          -1
## 11                          100               1.98247          -9
## 12                          100              29.57195         -17
## 13                          100             -23.00986           6
## 14                          100             276.65426           6
## 15                          100              56.94934          -1
## 16                          100              32.88030          -1
## 17                          100             -51.92649          -1
##    Yabs&lt;POSITION-ACTUAL&gt; Yload&lt;LOAD&gt;
## 1              238.02594         -29
## 2              240.46434         -29
## 3              234.98429         -29
## 4              280.67762         -29
## 5              267.71600         -24
## 6              269.86738         -24
## 7              278.72436         -34
## 8              211.29117         -25
## 9              208.65973         -25
## 10             213.84387         -25
## 11             272.26514         -25
## 12             244.55374         -25
## 13             212.84184         -20
## 14             465.69630         -29
## 15             243.04752         -29
## 16             272.85950         -29
## 17             263.14527         -24</code></pre>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
